<!DOCTYPE html>

<html lang="en">
    <head>
        <title>CW's Walk For Wenjack Leaderboard</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="styling.css">
        <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto'>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://cdn.jsdelivr.net/npm/drive-db"></script>
    </head>

    <script>
        LoadData();
        async function LoadData(){
            let data = await drive('1-JbuJ6-p1wczrM6Ikr6BQ8OSk6u3rDU39SXSilagUuE');
            console.log(data);

            // Create the table
            let datatable = document.querySelector('#datatable');
            if(data.length){
                let columns = Object.getOwnPropertyNames(data[0]);
                columns.forEach(col => {
                    let th = document.createElement('th');
                    th.innerText = col;
                    datatable.appendChild(th);
                });

                data.forEach(row => {
                    let tr = document.createElement('tr');
                    columns.forEach(col => {
                        let td = document.createElement('td');
                        td.innerText = row[col];
                        tr.appendChild(td);
                    });
                    
                    datatable.appendChild(tr);
                });
            }
        }
    </script>

    <div class="leaderboard">
        <header>
            <h1>CW's Walk For Wenjack Leaderboard</h1>
            <img src=" " alt="">
            <nav>
                <a href="" class="active" id="grAll">Cairine Wilson</a>
                <a href="" id="gr9">Grade 9</a>
                <a href="" id="gr10">Grade 10</a>
                <a href="" id="gr11">Grade 11</a>
                <a href="" id="gr12">Grade 12</a>
            </nav>
        </header>

        <table id="datatable"></table>
    </div>
</html>  